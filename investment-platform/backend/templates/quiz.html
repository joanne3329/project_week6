{% extends "base.html" %}
{% block content %}
<!-- æ·»åŠ  Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
.quiz-section {
  max-width: 800px;
  margin: 0 auto;
}

.quiz-card {
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  padding: 2rem;
}

.form-check {
  background: #f8f9fa;
  border-radius: 10px;
  padding: 1.2rem 1.8rem;
  margin-bottom: 1.2rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 2px solid transparent;
  position: relative;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  user-select: none;
}

.form-check:hover {
  background: #f0f7ff;
  border-color: #90caf9;
}

.form-check:active {
  transform: scale(0.99);
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.form-check.selected {
  background: #e3f2fd;
  border-color: #1976d2;
  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.15);
}

.form-check.correct {
  background: #e8f5e9 !important;
  border-color: #4caf50 !important;
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.25) !important;
}

.form-check.wrong {
  background: #ffebee !important;
  border-color: #f44336 !important;
  box-shadow: 0 4px 12px rgba(244, 67, 54, 0.25) !important;
}

.form-check-label {
  font-size: 1.2rem;
  color: #333;
  cursor: pointer;
  display: block;
  width: 100%;
  margin: 0;
}

.form-check-input {
  width: 1.4em;
  height: 1.4em;
  margin-top: 0.2em;
  cursor: pointer;
}

.form-check-label::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
}

h5.mb-3 {
  font-size: 1.5rem;
  color: #1a73e8;
  margin-bottom: 1.5rem !important;
}

.btn {
  font-size: 1.1rem;
  padding: 0.6rem 1.5rem;
}

.alert {
  font-size: 1.1rem;
}

#quiz-answer-1, #quiz-answer-2 {
  background: #f8f9fa;
  border-radius: 10px;
  padding: 1.5rem;
  margin-top: 2rem;
}

.completion {
  padding: 2rem;
  background: #e8f5e9;
  border-radius: 15px;
  margin-top: 2rem;
}

.hint-box {
  background: #fff8e1;
  border-left: 4px solid #ffc107;
  border-radius: 8px;
  padding: 1rem 1.2rem;
  margin: 1rem 0;
  display: none;
  animation: fadeIn 0.3s ease;
}

.hint-box.show {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.btn-hint {
  background: #ffc107;
  border-color: #ffc107;
  color: #333;
  font-weight: 600;
}

.btn-hint:hover {
  background: #ffb300;
  border-color: #ffb300;
  color: #333;
}

/* é€²åº¦æ¢æ¨£å¼ */
.quiz-progress-container {
  max-width: 600px;
  margin: 0 auto 30px;
  background: white;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.progress-bar-wrapper {
  background: #e0e0e0;
  height: 12px;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 12px;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #1a73e8 0%, #4CAF50 100%);
  transition: width 0.4s ease;
  border-radius: 10px;
}

.progress-text {
  text-align: center;
  color: #666;
  font-weight: 600;
  font-size: 0.95rem;
}

/* é¸é …å…§è§£é‡‹æ¨£å¼ */
.option-explanation {
  margin-top: 12px;
  padding: 12px;
  background: rgba(255,255,255,0.9);
  border-radius: 8px;
  font-size: 0.95rem;
  line-height: 1.6;
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
    padding: 0 12px;
  }
  to {
    opacity: 1;
    max-height: 200px;
    padding: 12px;
  }
}

.form-check.correct .option-explanation {
  color: #2e7d32;
  border-left: 3px solid #4caf50;
}

.form-check.wrong .option-explanation {
  color: #c62828;
  border-left: 3px solid #f44336;
}

/* éš±è—åŸæœ¬ä¸‹æ–¹çš„ç­”æ¡ˆå€å¡Š */
#quiz-answer-1, #quiz-answer-2, #quiz-answer-3, #quiz-answer-4, 
#quiz-answer-5, #quiz-answer-6, #quiz-answer-7, #quiz-answer-8, 
#quiz-answer-9, #quiz-answer-10 {
  display: none !important;
}

/* ä¸‹ä¸€é¡ŒæŒ‰éˆ•é¡¯ç¤ºåœ¨é¸é …ä¸‹æ–¹ */
.next-question-btn-container {
  text-align: center;
  margin-top: 25px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.next-question-btn-container.show {
  opacity: 1;
}

/* æ–°å¢é€šé/æœªé€šéæç¤ºæ¨£å¼ */
.pass-status {
  text-align: center;
  padding: 20px;
  border-radius: 15px;
  margin-bottom: 20px;
  font-size: 1.3rem;
  font-weight: 700;
}

.pass-status.passed {
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
  color: #2e7d32;
  border: 3px solid #4caf50;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
}

.pass-status.failed {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe082 100%);
  color: #e65100;
  border: 3px solid #ff9800;
  box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

.pass-status-icon {
  font-size: 2rem;
  margin-right: 10px;
}
</style>

<div class="container mt-5">
  <div class="quiz-section text-center">
    <h1 class="fw-bold mb-4">ETF æŠ•è³‡å°æ¸¬é©—</h1>
    <p class="lead mb-4">æ­¡è¿ä¾†åˆ° ETF æŠ•è³‡å°æ¸¬é©—ï¼(å¦‚æœé›¢é–‹é é¢ï¼Œé€²åº¦å°‡æœƒéºå¤±ï¼)</p>
    <div class="mb-5">
      <a href="/week6" class="btn btn-outline-primary">è¿”å›ç¬¬å…­é€±å­¸ç¿’å…§å®¹</a>
    </div>

    <!-- é€²åº¦æ¢ -->
    <div class="quiz-progress-container">
      <div class="progress-bar-wrapper">
        <div class="progress-bar-fill" id="progressBar" style="width: 0%"></div>
      </div>
      <div class="progress-text" id="progressText">ç¬¬ 1 é¡Œ / å…± 10 é¡Œ</div>
    </div>

    <!-- å•é¡Œ 1 -->
    <div id="question-1" class="quiz-card mt-5 text-start" style="max-width: 600px; margin: 0 auto;">
      <h5 class="mb-3">1. æ ¹æ“šæ–‡æœ¬ï¼ŒETFï¼ˆæŒ‡æ•¸è‚¡ç¥¨å‹åŸºé‡‘ï¼‰æœ€è²¼åˆ‡çš„ç”Ÿæ´»åŒ–æ¯”å–»æ˜¯ä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(1)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-1" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>æƒ³æƒ³çœ‹ï¼ŒETF çš„ç‰¹è‰²æ˜¯ã€Œä¸€æ¬¡è²·é€²å¤šç¨®æ¨™çš„ã€ï¼Œå“ªå€‹æ¯”å–»æœ€ç¬¦åˆï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(1, 'A')">
          <div class="form-check-label">
            A. å–®é»ä¸€é“æ˜‚è²´çš„ç‰›æ’
            <div class="option-explanation" id="explanation-1-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(1, 'B')">
          <div class="form-check-label">
            B. é›†åˆçœ¾äººè³‡é‡‘çš„å„²è“„ç½
            <div class="option-explanation" id="explanation-1-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(1, 'C')">
          <div class="form-check-label">
            C. èœè‰²å¤šæ¨£ã€ä¸€æ¬¡å–ç”¨çš„è‡ªåŠ©é¤
            <div class="option-explanation" id="explanation-1-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(1, 'D')">
          <div class="form-check-label">
            D. ä¸€å¼µä¿è­‰ç²åˆ©çš„æ¨‚é€å½©åˆ¸
            <div class="option-explanation" id="explanation-1-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-1">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(2)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <div id="question-2" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">2. æ–‡æœ¬å°‡è‚¡ç¥¨å‹ETFå’Œå‚µåˆ¸å‹ETFæ¯”å–»ç‚ºè‡ªåŠ©é¤çš„å…©å¤§ä¸»èœã€‚å¦‚æœä¸€ä½æŠ•è³‡äººè¿½æ±‚è¼ƒé«˜çš„æ½›åœ¨å ±é…¬ï¼Œä½†é¡˜æ„æ‰¿å—è¼ƒå¤§çš„åƒ¹æ ¼æ³¢å‹•ï¼Œä»–æ‡‰è©²å„ªå…ˆé¸æ“‡å“ªä¸€é¡ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(2)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-2" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>é«˜å ±é…¬é€šå¸¸ä¼´éš¨é«˜é¢¨éšªï¼Œå“ªä¸€ç¨® ETF æ³¢å‹•è¼ƒå¤§ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(2, 'A')">
          <div class="form-check-label">
            A. è‚¡ç¥¨å‹ETFï¼Œå¦‚åŒé«˜è®Šå‹•ã€é«˜æ½›åŠ›çš„é¢¨å‘³æ–™ç†
            <div class="option-explanation" id="explanation-2-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(2, 'B')">
          <div class="form-check-label">
            B. å‚µåˆ¸å‹ETFï¼Œå¦‚åŒç©©å¥ã€å®‰å¿ƒçš„å‚³çµ±å®¶å¸¸èœ
            <div class="option-explanation" id="explanation-2-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(2, 'C')">
          <div class="form-check-label">
            C. å•†å“å‹ETFï¼Œä¾‹å¦‚é»ƒé‡‘æˆ–çŸ³æ²¹
            <div class="option-explanation" id="explanation-2-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(2, 'D')">
          <div class="form-check-label">
            D. ä¸»é¡Œå‹ETFï¼Œä¾‹å¦‚é›»å‹•è»ŠETF
            <div class="option-explanation" id="explanation-2-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-2">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(3)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 3 -->
    <div id="question-3" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">3. æ–‡æœ¬ä¸­æåˆ°çš„ã€Œ0050 å…ƒå¤§å°ç£50ã€å’Œã€Œ0056 å…ƒå¤§é«˜è‚¡æ¯ã€æ˜¯å°ç£å¾ˆå—æ­¡è¿çš„ETFã€‚è«‹å•ã€Œ0056ã€çš„ä¸»è¦ç‰¹è‰²æ˜¯ä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(3)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-3" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>0056 çš„åç¨±ä¸­æœ‰ã€Œé«˜è‚¡æ¯ã€ï¼Œæƒ³æƒ³çœ‹å®ƒè¿½è¹¤çš„æ˜¯ä»€éº¼æ¨£çš„å…¬å¸ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(3, 'A')">
          <div class="form-check-label">
            A. è¿½è¹¤å°ç£å¸‚å€¼å‰50å¤§å…¬å¸ï¼Œç›®æ¨™æ˜¯è·Ÿéš¨å¤§ç›¤è¡¨ç¾
            <div class="option-explanation" id="explanation-3-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(3, 'B')">
          <div class="form-check-label">
            B. å°ˆæ³¨æ–¼é«˜ç§‘æŠ€ç”¢æ¥­ï¼Œå¦‚è˜‹æœã€å¾®è»Ÿ
            <div class="option-explanation" id="explanation-3-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(3, 'C')">
          <div class="form-check-label">
            C. è¿½è¹¤ç¾åœ‹S&P500æŒ‡æ•¸ï¼Œåˆ†æ•£åˆ°åœ‹éš›å¸‚å ´
            <div class="option-explanation" id="explanation-3-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(3, 'D')">
          <div class="form-check-label">
            D. å°ˆæ³¨æ–¼é…ç™¼è¼ƒé«˜ç¾é‡‘è‚¡åˆ©çš„å…¬å¸ï¼Œé©åˆè¿½æ±‚ç©©å®šç¾é‡‘æµçš„æŠ•è³‡äºº
            <div class="option-explanation" id="explanation-3-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-3">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(4)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 4 -->
    <div id="question-4" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">4. æ ¹æ“šæ–‡æœ¬ï¼Œå‚µåˆ¸å‹ETFé›–ç„¶ç›¸å°ç©©å¥ï¼Œä½†ä¹Ÿå­˜åœ¨é¢¨éšªã€‚ç•¶å¸‚å ´åˆ©ç‡ã€Œä¸Šå‡ã€æ™‚ï¼ŒèˆŠæœ‰çš„å‚µåˆ¸å‹ETFåƒ¹æ ¼æœ€å¯èƒ½ç™¼ç”Ÿä»€éº¼æƒ…æ³ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(4)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-4" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>æƒ³åƒæ–°æ¬¾æ‰‹æ©Ÿå‡ºä¾†äº†ï¼ŒèˆŠæ‰‹æ©Ÿæœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿåˆ©ç‡ä¹Ÿæ˜¯ä¸€æ¨£çš„é“ç†ã€‚
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(4, 'A')">
          <div class="form-check-label">
            A. åƒ¹æ ¼ä¸Šå‡ï¼Œå› ç‚ºåˆ©æ¯æ”¶å…¥å¢åŠ äº†
            <div class="option-explanation" id="explanation-4-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(4, 'B')">
          <div class="form-check-label">
            B. åƒ¹æ ¼ä¸‹è·Œï¼Œå› ç‚ºèˆŠå‚µåˆ¸çš„ä½åˆ©ç‡å¸å¼•åŠ›ä¸‹é™
            <div class="option-explanation" id="explanation-4-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(4, 'C')">
          <div class="form-check-label">
            C. åƒ¹æ ¼ä¸è®Šï¼Œå› ç‚ºå‚µåˆ¸æœ‰å›ºå®šåˆ©æ¯
            <div class="option-explanation" id="explanation-4-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(4, 'D')">
          <div class="form-check-label">
            D. åƒ¹æ ¼æœƒè½‰æ›æˆè‚¡ç¥¨ï¼Œä»¥è¦é¿é¢¨éšª
            <div class="option-explanation" id="explanation-4-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-4">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(5)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 5 -->
    <div id="question-5" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">5. æ–‡æœ¬æåˆ°ï¼Œæ–°æ‰‹è³¼è²·ETFæ™‚éœ€è¦æ³¨æ„ç›¸é—œè²»ç”¨ã€‚é™¤äº†åƒè²·è³£è‚¡ç¥¨ä¸€æ¨£çš„ã€Œäº¤æ˜“æ‰‹çºŒè²»ã€å¤–ï¼Œé‚„æœ‰ä¸€ç¨®æœƒé•·æœŸå½±éŸ¿å ±é…¬ï¼Œç”±åŸºé‡‘å…¬å¸æ”¶å–ä»¥ç¶­è­·ETFé‹ä½œçš„è²»ç”¨æ˜¯ä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(5)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-5" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>åŸºé‡‘å…¬å¸æ¯å¹´æœƒæ”¶å–ä¸€ç­†å›ºå®šæ¯”ä¾‹çš„è²»ç”¨ä¾†ç¶­æŒ ETF é‹ä½œï¼Œé€™ç­†è²»ç”¨å«åš...ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(5, 'A')">
          <div class="form-check-label">
            A. æº¢åƒ¹ï¼ˆPremiumï¼‰
            <div class="option-explanation" id="explanation-5-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(5, 'B')">
          <div class="form-check-label">
            B. æŠ˜åƒ¹ï¼ˆDiscountï¼‰
            <div class="option-explanation" id="explanation-5-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(5, 'C')">
          <div class="form-check-label">
            C. ç®¡ç†è²»ï¼ˆæˆ–ç¨±ç¸½è²»ç”¨ç‡ï¼‰
            <div class="option-explanation" id="explanation-5-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(5, 'D')">
          <div class="form-check-label">
            D. é•ç´„é¢¨éšªé‡‘ï¼ˆDefault Risk Premiumï¼‰
            <div class="option-explanation" id="explanation-5-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-5">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(6)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 6 -->
    <div id="question-6" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">6. é‡å°ETFçš„æŠ•è³‡æ–¹å¼ï¼Œæ–‡æœ¬æåˆ°ä¸€ç¨®é©åˆæ–°æ‰‹åŸ¹é¤Šç´€å¾‹çš„ç­–ç•¥ï¼Œæ˜¯ã€Œæ¯æœˆæŠ•å…¥å›ºå®šé‡‘é¡ï¼Œä¸ç®¡å¸‚å ´é«˜ä½éƒ½æŒçºŒç´¯ç©ã€ã€‚é€™ç¨®æ–¹å¼ç¨±ç‚ºä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(6)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-6" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>é€™ç¨®æŠ•è³‡æ–¹å¼å¼·èª¿ã€Œå›ºå®šæ™‚é–“ã€å›ºå®šé‡‘é¡ã€ï¼Œåƒå­˜é›¶ç”¨éŒ¢ä¸€æ¨£ã€‚
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(6, 'A')">
          <div class="form-check-label">
            A. ä¸€æ¬¡æŠ•å…¥ï¼ˆLump Sumï¼‰
            <div class="option-explanation" id="explanation-6-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(6, 'B')">
          <div class="form-check-label">
            B. å®šæœŸå®šé¡
            <div class="option-explanation" id="explanation-6-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(6, 'C')">
          <div class="form-check-label">
            C. è¿½é€ä¸»é¡Œï¼ˆThematic Chasingï¼‰
            <div class="option-explanation" id="explanation-6-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(6, 'D')">
          <div class="form-check-label">
            D. é«˜è³£ä½è²·ï¼ˆTiming the Marketï¼‰
            <div class="option-explanation" id="explanation-6-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-6">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(7)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 7 -->
    <div id="question-7" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">7. è‚¡ç¥¨å‹ETFé€éæŒæœ‰ä¸€ç±ƒå­è‚¡ç¥¨ä¾†åˆ†æ•£é¢¨éšªï¼Œä½†æ–‡æœ¬ä¹Ÿæé†’å®ƒä¸¦éæ¯«ç„¡é¢¨éšªã€‚è‚¡ç¥¨å‹ETFæœ€ä¸»è¦çš„é¢¨éšªæ˜¯ä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(7)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-7" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>ETF ç·Šå¯†è¿½è¹¤æŒ‡æ•¸ï¼Œç•¶æ•´å€‹å¸‚å ´ä¸‹è·Œæ™‚ï¼ŒETF æœƒæ€éº¼æ¨£ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(7, 'A')">
          <div class="form-check-label">
            A. åˆ©ç‡ä¸Šå‡å°è‡´åƒ¹æ ¼ä¸‹è·Œçš„é¢¨éšª
            <div class="option-explanation" id="explanation-7-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(7, 'B')">
          <div class="form-check-label">
            B. å–®ä¸€å…¬å¸ç¶“ç‡Ÿå¤±æ•—å°è‡´ETFæ­¸é›¶çš„é¢¨éšª
            <div class="option-explanation" id="explanation-7-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(7, 'C')">
          <div class="form-check-label">
            C. è¿½è¹¤çš„æ•´é«”è‚¡å¸‚ï¼ˆå¤§ç›¤ï¼‰ä¸‹è·Œæ™‚ï¼ŒETFåƒ¹æ ¼ä¹Ÿæœƒè·Ÿè‘—ä¸‹è·Œçš„é¢¨éšª
            <div class="option-explanation" id="explanation-7-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(7, 'D')">
          <div class="form-check-label">
            D. æµå‹•æ€§ä¸è¶³ï¼Œæƒ³è³£å»è³£ä¸æ‰çš„é¢¨éšª
            <div class="option-explanation" id="explanation-7-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-7">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(8)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 8 -->
    <div id="question-8" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">8. è¦ç†è§£å‚µåˆ¸å‹ETFï¼Œå¿…é ˆå…ˆæ‡‚ã€Œå‚µåˆ¸ã€ã€‚æ ¹æ“šæ–‡æœ¬ï¼Œå‚µåˆ¸çš„æœ¬è³ªæœ€æ¥è¿‘ä¸‹åˆ—ä½•è€…ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(8)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-8" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>å‚µåˆ¸æ˜¯ä¸€ç¨®å€Ÿè²¸é—œä¿‚ï¼Œè³¼è²·å‚µåˆ¸çš„äººç­‰æ–¼æ˜¯...ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(8, 'A')">
          <div class="form-check-label">
            A. å…¬å¸çš„æ‰€æœ‰æ¬Šè‚¡ä»½
            <div class="option-explanation" id="explanation-8-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(8, 'B')">
          <div class="form-check-label">
            B. ä¸€ç¨®ã€Œå€Ÿè²¸æ†‘è­‰ã€ï¼Œè³¼è²·äººå€ŸéŒ¢çµ¦æ”¿åºœæˆ–ä¼æ¥­ä»¥æ›å–åˆ©æ¯
            <div class="option-explanation" id="explanation-8-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(8, 'C')">
          <div class="form-check-label">
            C. è¿½è¹¤é»ƒé‡‘æˆ–çŸ³æ²¹åƒ¹æ ¼çš„æ†‘è­‰
            <div class="option-explanation" id="explanation-8-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(8, 'D')">
          <div class="form-check-label">
            D. è³­å ´ä¸­çš„ç±Œç¢¼ï¼Œç”¨ä¾†åƒèˆ‡å¸‚å ´æ¼²è·Œ
            <div class="option-explanation" id="explanation-8-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-8">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(9)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 9 -->
    <div id="question-9" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">9. æ–‡æœ¬åœ¨ã€Œæ–°æ‰‹ä¸Šè·¯ã€ç« ç¯€æåˆ°ï¼Œé¸æ“‡ETFæ™‚æ‡‰æ³¨æ„ã€Œæµå‹•æ€§ã€ã€‚è«‹å•ã€Œæµå‹•æ€§ã€é«˜ä½ä»£è¡¨ä»€éº¼æ„æ€ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(9)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-9" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>æµå‹•æ€§æŒ‡çš„æ˜¯äº¤æ˜“çš„é›£æ˜“åº¦ï¼Œèƒ½ä¸èƒ½è¼•é¬†è²·è³£è€Œä¸å½±éŸ¿åƒ¹æ ¼ã€‚
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(9, 'A')">
          <div class="form-check-label">
            A. é€™æª”ETFçš„é…æ¯é »ç‡æœ‰å¤šé«˜
            <div class="option-explanation" id="explanation-9-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(9, 'B')">
          <div class="form-check-label">
            B. é€™æª”ETFçš„ç®¡ç†è²»ç”¨æœ‰å¤šä½
            <div class="option-explanation" id="explanation-9-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(9, 'C')">
          <div class="form-check-label">
            C. èƒ½å¦è¼•é¬†è²·è³£è€Œä¸å¤ªæœƒå½±éŸ¿åˆ°åƒ¹æ ¼
            <div class="option-explanation" id="explanation-9-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(9, 'D')">
          <div class="form-check-label">
            D. é€™æª”ETFè¿½è¹¤çš„ç”¢æ¥­æ˜¯å¦ç†±é–€
            <div class="option-explanation" id="explanation-9-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-9">
        <button type="button" class="btn btn-primary" onclick="goToQuestion(10)">ä¸‹ä¸€é¡Œ â†’</button>
      </div>
    </div>

    <!-- å•é¡Œ 10 -->
    <div id="question-10" class="quiz-card mt-4 text-start" style="max-width: 600px; margin: 0 auto; display:none;">
      <h5 class="mb-3">10. æ–‡æœ¬æåˆ°ETFçš„åƒ¹æ ¼æœƒå—åˆ°ã€Œå¸‚å ´ä¾›éœ€ã€èˆ‡ã€Œæ¨™çš„è³‡ç”¢æ·¨å€¼ã€å½±éŸ¿ã€‚å¦‚æœä¸€æª”ETFåœ¨å¸‚å ´ä¸Šçš„äº¤æ˜“åƒ¹æ ¼ã€Œé«˜æ–¼ã€å®ƒæ‰€æŒæœ‰çš„è³‡ç”¢å¯¦éš›åƒ¹å€¼ï¼Œé€™ç¨®æƒ…æ³ç¨±ç‚ºä»€éº¼ï¼Ÿ</h5>
      <div class="mb-3">
        <button type="button" class="btn btn-hint btn-sm" onclick="toggleHint(10)">ğŸ’¡ éœ€è¦æç¤ºï¼Ÿ</button>
      </div>
      <div id="hint-10" class="hint-box">
        <strong>ğŸ’¡ æç¤ºï¼š</strong>å¸‚åƒ¹é«˜æ–¼æ·¨å€¼æ™‚ï¼Œé€™ç¨®ç¾è±¡å«åš...ï¼ŸæŠ˜åƒ¹é‚„æ˜¯æº¢åƒ¹ï¼Ÿ
      </div>
      <form>
        <div class="form-check mb-2" onclick="selectAnswer(10, 'A')">
          <div class="form-check-label">
            A. æŠ˜åƒ¹ (Discount)
            <div class="option-explanation" id="explanation-10-A" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(10, 'B')">
          <div class="form-check-label">
            B. æº¢åƒ¹ (Premium)
            <div class="option-explanation" id="explanation-10-B" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(10, 'C')">
          <div class="form-check-label">
            C. æ·¨å€¼ (Net Asset Value)
            <div class="option-explanation" id="explanation-10-C" style="display:none;"></div>
          </div>
        </div>
        <div class="form-check mb-2" onclick="selectAnswer(10, 'D')">
          <div class="form-check-label">
            D. ç¸½è²»ç”¨ç‡ (Expense Ratio)
            <div class="option-explanation" id="explanation-10-D" style="display:none;"></div>
          </div>
        </div>
      </form>
      <div class="next-question-btn-container" id="next-btn-10">
        <button type="button" class="btn btn-success" onclick="goToQuestion(11)">å®Œæˆæ¸¬é©—</button>
      </div>
    </div>

    <!-- å®Œæˆç•«é¢ -->
    <div id="completion" class="mt-4 text-center" style="display:none;">
      <!-- é€šé/æœªé€šéæç¤º -->
      <div id="pass-status-message" class="pass-status"></div>
      
      <div class="alert alert-info">
        <h4 class="mb-0">ğŸŒŸ æ¸¬é©—å®Œæˆï¼</h4>
        <p id="score-text" class="mt-2 mb-0" style="font-size: 1.2rem;"></p>
      </div>
      <div style="width: 200px; margin: 2rem auto;">
        <canvas id="scoreChart"></canvas>
      </div>
      <div class="mt-4">
        <button class="btn btn-warning me-3" onclick="restartQuiz()">
          <i class="fas fa-redo-alt me-2"></i>å†è©¦ä¸€æ¬¡
        </button>
        <a href="/map" class="btn btn-primary">è¿”å›å­¸ç¿’åœ°åœ–</a>
      </div>
    </div>
  </div>
</div>

<script>
let selectedAnswers = {};
let correctAnswers = 0;
const totalQuestions = 10;
const correctAnswerMap = { 1: 'C', 2: 'A', 3: 'D', 4: 'B', 5: 'C', 6: 'B', 7: 'C', 8: 'B', 9: 'C', 10: 'B' };
const explanations = {
  1: {
    A: 'ç­”éŒ¯äº†ã€‚æ–‡æœ¬æåˆ°ï¼Œå–®é»ä¸€é“èœï¼ˆå¦‚ç‰›æ’ï¼‰å¥½æ¯”ç›´æ¥è²·å–®ä¸€è‚¡ç¥¨ï¼Œé¢¨éšªé›†ä¸­ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚é€™æ¯”è¼ƒåƒå‚³çµ±åŸºé‡‘çš„æ¦‚å¿µï¼Œä½†ETFé‚„å¤šäº†åƒè‚¡ç¥¨ä¸€æ¨£æ–¹ä¾¿äº¤æ˜“çš„ç‰¹æ€§ã€‚',
    C: 'ç­”å°äº†ï¼æ–‡æœ¬ä»¥è‡ªåŠ©é¤æ¯”å–»ETFï¼Œè¡¨ç¤ºå®ƒèƒ½è®“äººä¸€æ¬¡åƒåˆ°å¤šæ¨£åŒ–çµ„åˆï¼ˆåˆ†æ•£é¢¨éšªï¼‰ï¼Œæ—¢çœæ™‚ä¹Ÿé¿å…é¸éŒ¯çš„é¢¨éšªã€‚',
    D: 'ç­”éŒ¯äº†ã€‚æŠ•è³‡çš†æœ‰é¢¨éšªï¼ŒETFä¹Ÿä¸ä¾‹å¤–ï¼ˆä¾‹å¦‚è‚¡å¸‚ä¸‹è·Œé¢¨éšªï¼‰ï¼Œå®ƒä¸¦éä¿è­‰ç²åˆ©ã€‚'
  },
  2: {
    A: 'ç­”å°äº†ï¼æ–‡æœ¬æè¿°è‚¡ç¥¨å‹ETFåå‘é«˜è®Šå‹•ã€é«˜æ½›åŠ›ï¼Œé›–ç„¶é¢¨éšªè¼ƒé«˜ï¼Œä½†å ±é…¬æ½›åŠ›ä¹Ÿè¼ƒå¤§ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚æ–‡æœ¬æè¿°å‚µåˆ¸å‹ETFç›¸å°ç©©å¥ï¼Œåƒ¹æ ¼æ³¢å‹•è¼ƒå°ï¼Œé©åˆè¿½æ±‚å®‰å¿ƒçš„æŠ•è³‡äººã€‚',
    C: 'ç­”éŒ¯äº†ã€‚é›–ç„¶é€™ä¹Ÿæ˜¯ETFçš„ä¸€ç¨®ï¼Œä½†é¡Œç›®æ˜¯é‡å°æ–‡æœ¬ä¸­ã€Œå…©å¤§ä¸»èœã€ï¼ˆè‚¡ç¥¨å‹èˆ‡å‚µåˆ¸å‹ï¼‰çš„æ¯”å–»æå•ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚ä¸»é¡Œå‹ETFé€šå¸¸æ³¢å‹•åŠ‡çƒˆï¼Œå¯èƒ½ä¸é©åˆæ–°æ‰‹ï¼Œä¸”é¡Œç›®æ˜¯å•è‚¡ç¥¨å‹å’Œå‚µåˆ¸å‹é€™å…©å¤§é¡çš„æ¯”è¼ƒã€‚'
  },
  3: {
    A: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯ã€Œ0050 å…ƒå¤§å°ç£50ã€çš„ç‰¹è‰²ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯è¿½è¹¤ç¾åœ‹ç´æ–¯é”å…‹100æŒ‡æ•¸çš„QQQçš„ç‰¹è‰²ï¼Œä¸æ˜¯0056ã€‚',
    C: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯SPYé€™é¡ETFçš„ç‰¹è‰²ï¼Œä¸æ˜¯0056ã€‚',
    D: 'ç­”å°äº†ï¼æ–‡æœ¬æ˜ç¢ºæŒ‡å‡ºï¼Œ0056è¿½è¹¤ã€Œå°ç£é«˜è‚¡æ¯æŒ‡æ•¸ã€ï¼Œåå¥½èƒ½å¸¶ä¾†è¼ƒç©©å®šé…æ¯æ”¶å…¥çš„å…¬å¸ã€‚'
  },
  4: {
    A: 'ç­”éŒ¯äº†ã€‚å¸‚å ´åˆ©ç‡ä¸Šå‡æ™‚ï¼Œæ˜¯æ–°ç™¼è¡Œçš„å‚µåˆ¸åˆ©ç‡æ›´é«˜ï¼ŒèˆŠå‚µåˆ¸çš„åˆ©æ¯ä¸¦ä¸æœƒå› æ­¤å¢åŠ ã€‚',
    B: 'ç­”å°äº†ï¼æ–‡æœ¬èªªæ˜ï¼Œç•¶å¸‚å ´åˆ©ç‡ä¸Šå‡ï¼Œæ–°å‚µåˆ¸åˆ©ç‡æ›´é«˜ï¼Œæœƒå°è‡´æ—§çš„ä½åˆ©ç‡å‚µåˆ¸å¸å¼•åŠ›ä¸‹é™ï¼Œåƒ¹æ ¼éš¨ä¹‹ä¸‹è·Œã€‚',
    C: 'ç­”éŒ¯äº†ã€‚é›–ç„¶å‚µåˆ¸åˆ©æ¯å›ºå®šï¼Œä½†å…¶åœ¨å¸‚å ´ä¸Šçš„ã€Œäº¤æ˜“åƒ¹æ ¼ã€æœƒéš¨åˆ©ç‡è®Šå‹•è€Œåå‘è®Šå‹•ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚å‚µåˆ¸å‹ETFä¸æœƒè‡ªå‹•è½‰æ›æˆè‚¡ç¥¨ï¼Œå®ƒå€‘æ˜¯ä¸åŒé¡å‹çš„è³‡ç”¢ã€‚'
  },
  5: {
    A: 'ç­”éŒ¯äº†ã€‚æº¢åƒ¹æ˜¯æŒ‡å¸‚åƒ¹é«˜æ–¼æ·¨å€¼çš„ç¾è±¡ï¼Œä¸¦éåŸºé‡‘å…¬å¸æ”¶å–çš„å›ºå®šè²»ç”¨ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚æŠ˜åƒ¹æ˜¯æŒ‡å¸‚åƒ¹ä½æ–¼æ·¨å€¼çš„ç¾è±¡ï¼Œä¸¦éåŸºé‡‘å…¬å¸æ”¶å–çš„å›ºå®šè²»ç”¨ã€‚',
    C: 'ç­”å°äº†ï¼æ–‡æœ¬æŒ‡å‡ºï¼Œã€Œç®¡ç†è²»ã€æˆ–ã€Œç¸½è²»ç”¨ç‡ã€æ˜¯åŸºé‡‘å…¬å¸ç‚ºç¶­è­·ETFé‹ä½œæ‰€æ”¶å–çš„è²»ç”¨ï¼Œé•·æœŸç´¯ç©æœƒå½±éŸ¿å ±é…¬ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚é•ç´„é¢¨éšªæ˜¯å‚µåˆ¸çš„æ½›åœ¨é¢¨éšªï¼Œè€Œä¸æ˜¯æ‰€æœ‰ETFéƒ½æœƒæ”¶å–çš„ä¸€ç¨®è²»ç”¨ã€‚'
  },
  6: {
    A: 'ç­”éŒ¯äº†ã€‚ã€Œä¸€æ¬¡æŠ•å…¥ã€æ˜¯æŒ‡åœ¨æœ‰è³‡é‡‘æ™‚ç›´æ¥è²·é€²ï¼Œèˆ‡æ¯æœˆå›ºå®šæŠ•å…¥ä¸åŒã€‚',
    B: 'ç­”å°äº†ï¼æ–‡æœ¬æè¿°ã€Œå®šæœŸå®šé¡ã€å³æ˜¯æ¯æœˆæŠ•å…¥å›ºå®šé‡‘é¡ï¼Œå¥½è™•æ˜¯å¹³æ»‘é¢¨éšªï¼Œé©åˆåŸ¹é¤Šç´€å¾‹ã€‚',
    C: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯æŒ‡è¿½é€ç†±é–€é¡Œæï¼Œä¸¦éæŒ‡å›ºå®šçš„æŠ•è³‡æ–¹å¼ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚é€™éœ€è¦åˆ¤æ–·å¸‚å ´é«˜ä½é»ï¼Œè€Œã€Œå®šæœŸå®šé¡ã€æ˜¯ã€Œä¸ç®¡å¸‚å ´é«˜ä½ã€éƒ½æŒçºŒæŠ•å…¥ã€‚'
  },
  7: {
    A: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯å‚µåˆ¸å‹ETFçš„ä¸»è¦é¢¨éšªä¹‹ä¸€ï¼Œç¨±ç‚ºã€Œåˆ©ç‡é¢¨éšªã€ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚ETFæŒæœ‰å¤šæª”è‚¡ç¥¨ï¼Œåˆ†æ•£äº†å–®ä¸€å…¬å¸å€’é–‰çš„é¢¨éšªï¼Œå› æ­¤ETFæ¥µé›£æ­¸é›¶ã€‚',
    C: 'ç­”å°äº†ï¼æ–‡æœ¬æåˆ°ï¼ŒETFç·Šå¯†è¿½è¹¤æŒ‡æ•¸ï¼Œç•¶å¤§ç›¤å¤§è·Œæ™‚ï¼Œå®ƒå¹¾ä¹ç„¡å¯é¿å…æœƒè·Ÿè‘—ä¸‹è·Œã€‚',
    D: 'ç­”éŒ¯äº†ã€‚æµå‹•æ€§é¢¨éšªç¢ºå¯¦å­˜åœ¨æ–¼æŸäº›æˆäº¤é‡ä½çš„ETFï¼Œä½†å°å¤šæ•¸è‚¡ç¥¨å‹ETFè€Œè¨€ï¼Œæœ€ä¸»è¦çš„é¢¨éšªæ˜¯ä¾†è‡ªæ•´é«”å¸‚å ´çš„æ³¢å‹•ã€‚'
  },
  8: {
    A: 'ç­”éŒ¯äº†ã€‚å…¬å¸çš„æ‰€æœ‰æ¬Šè‚¡ä»½æŒ‡çš„æ˜¯ã€Œè‚¡ç¥¨ã€ï¼Œä¸æ˜¯å‚µåˆ¸ã€‚',
    B: 'ç­”å°äº†ï¼æ–‡æœ¬æ˜ç¢ºå®šç¾©ï¼Œå‚µåˆ¸çš„æœ¬è³ªæ˜¯ã€Œå€Ÿè²¸æ†‘è­‰ã€ï¼Œè³¼è²·å‚µåˆ¸ç­‰æ–¼å€ŸéŒ¢çµ¦ç™¼è¡Œäººã€‚',
    C: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯ã€Œå•†å“å‹ETFã€åœ¨è¿½è¹¤çš„æ¨™çš„ï¼Œä¸æ˜¯å‚µåˆ¸æœ¬èº«ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚å‚µåˆ¸çš„å ±é…¬ä¸»è¦ä¾†è‡ªå›ºå®šåˆ©æ¯ï¼Œé›–ç„¶åƒ¹æ ¼æœƒæ³¢å‹•ï¼Œä½†æœ¬è³ªæ˜¯å€Ÿè²¸é—œä¿‚ï¼Œä¸æ˜¯è³­åšç±Œç¢¼ã€‚'
  },
  9: {
    A: 'ç­”éŒ¯äº†ã€‚é…æ¯é »ç‡èˆ‡æµå‹•æ€§ç„¡é—œï¼Œé«˜è‚¡æ¯ETFé—œå¿ƒçš„æ˜¯é…æ¯ã€‚',
    B: 'ç­”éŒ¯äº†ã€‚ç®¡ç†è²»ç”¨æ˜¯æŒæœ‰æˆæœ¬ï¼Œæµå‹•æ€§æ˜¯æŒ‡äº¤æ˜“çš„é›£æ˜“åº¦ã€‚',
    C: 'ç­”å°äº†ï¼æ–‡æœ¬è§£é‡‹ï¼Œã€Œæµå‹•æ€§ã€æŒ‡çš„æ˜¯èƒ½ä¸èƒ½è¼•é¬†è²·è³£è€Œä¸æœƒå½±éŸ¿åƒ¹æ ¼ï¼Œæˆäº¤é‡ä½çš„ETFå°±æœ‰æµå‹•æ€§é¢¨éšªã€‚',
    D: 'ç­”éŒ¯äº†ã€‚ç†±é–€ç”¢æ¥­çš„ETFï¼ˆå¦‚ä¸»é¡Œå‹ETFï¼‰ é€šå¸¸æµå‹•æ€§è¼ƒé«˜ï¼Œä½†æµå‹•æ€§æœ¬èº«æ˜¯è¡¡é‡äº¤æ˜“çš„é›£æ˜“åº¦ï¼Œè€Œä¸ç­‰æ–¼ç†±é–€ç¨‹åº¦ã€‚'
  },
  10: {
    A: 'ç­”éŒ¯äº†ã€‚æŠ˜åƒ¹æ˜¯æŒ‡äº¤æ˜“åƒ¹æ ¼ã€Œä½æ–¼ã€å¯¦éš›åƒ¹å€¼ã€‚',
    B: 'ç­”å°äº†ï¼æ–‡æœ¬æ˜ç¢ºæŒ‡å‡ºï¼Œã€Œæº¢åƒ¹ã€æ„å‘³è‘—æŠ•è³‡äººè²·ETFçš„åƒ¹æ ¼æ¯”å®ƒå¯¦éš›åƒ¹å€¼é«˜ã€‚',
    C: 'ç­”éŒ¯äº†ã€‚æ·¨å€¼æ˜¯æŒ‡ETFæ‰€æŒæœ‰è³‡ç”¢çš„ã€Œå¯¦éš›åƒ¹å€¼ã€ï¼Œè€Œä¸æ˜¯å¸‚åƒ¹é«˜æ–¼æ·¨å€¼çš„ã€Œç¾è±¡ã€ã€‚',
    D: 'ç­”éŒ¯äº†ã€‚é€™æ˜¯æŒ‡ETFçš„ç®¡ç†è²»ç”¨ï¼Œèˆ‡å¸‚åƒ¹å’Œæ·¨å€¼çš„å·®é¡ç„¡é—œã€‚'
  }

  // ...3-10 çš„è§£é‡‹ä¾æ­¤é¡æ¨...
};

let scoreChartInstance = null;

function updateProgress(currentQuestion) {
  const progress = (currentQuestion / totalQuestions) * 100;
  document.getElementById('progressBar').style.width = progress + '%';
  document.getElementById('progressText').textContent = `ç¬¬ ${currentQuestion} é¡Œ / å…± ${totalQuestions} é¡Œ`;
}

function toggleHint(questionNum) {
  const hintBox = document.getElementById(`hint-${questionNum}`);
  hintBox.classList.toggle('show');
}

function selectAnswer(questionNum, value) {
  if (selectedAnswers[questionNum]) return;
  selectedAnswers[questionNum] = value;
  showQuizAnswer(questionNum, value);
}

function showQuizAnswer(questionNum, selectedValue) {
  const correctAnswer = correctAnswerMap[questionNum];
  const isCorrect = selectedValue === correctAnswer;
  
  const allOptions = document.querySelectorAll(`#question-${questionNum} .form-check`);
  allOptions.forEach((el, index) => {
    const optionValue = ['A', 'B', 'C', 'D'][index];
    el.style.pointerEvents = 'none';
    
    if (optionValue === selectedValue) {
      // ä½¿ç”¨è€…é¸æ“‡çš„é¸é …
      el.classList.add(isCorrect ? 'correct' : 'wrong');
      
      // åœ¨é¸é …å…§é¡¯ç¤ºè§£é‡‹
      const explanationDiv = document.getElementById(`explanation-${questionNum}-${selectedValue}`);
      if (explanationDiv) {
        explanationDiv.textContent = explanations[questionNum][selectedValue];
        explanationDiv.style.display = 'block';
      }
    } else if (optionValue === correctAnswer && !isCorrect) {
      // è‹¥ç­”éŒ¯ï¼Œæ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
      el.classList.add('correct');
    }
  });
  
  if (isCorrect) {
    correctAnswers++;
  }
  
  // é¡¯ç¤ºä¸‹ä¸€é¡ŒæŒ‰éˆ•
  const nextBtn = document.getElementById(`next-btn-${questionNum}`);
  if (nextBtn) {
    nextBtn.classList.add('show');
  }
  
  // æ›´æ–°é€²åº¦æ¢
  updateProgress(questionNum);
}

function goToQuestion(n) {
  document.querySelectorAll('[id^="question-"]').forEach(el => el.style.display = 'none');
  if (n <= totalQuestions) {
    document.getElementById('question-' + n).style.display = 'block';
    updateProgress(n);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  } else {
    showCompletion();
  }
}

function showCompletion() {
  document.querySelectorAll('[id^="question-"]').forEach(el => el.style.display = 'none');
  document.querySelector('.quiz-progress-container').style.display = 'none';
  document.getElementById('completion').style.display = 'block';
  
  // é¡¯ç¤ºé€šé/æœªé€šéè¨Šæ¯
  const passStatusDiv = document.getElementById('pass-status-message');
  if (correctAnswers >= 8) {
    passStatusDiv.innerHTML = '<span class="pass-status-icon">ğŸ‰</span>æ­å–œé€šéï¼çœ‹ä¾†ä½ å­¸å¾—é‚„ä¸éŒ¯';
    passStatusDiv.className = 'pass-status passed';
  } else {
    passStatusDiv.innerHTML = '<span class="pass-status-icon">ğŸ“š</span>çœ‹ä¾†é‚„æœ‰è§€å¿µä¸å¤ æ¸…æ¥šå“¦ï½å†è¤‡ç¿’ä¸€ä¸‹å§ï¼';
    passStatusDiv.className = 'pass-status failed';
  }
  
  updateScore();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function updateScore() {
  document.getElementById('score-text').textContent = `ç¸½å…± ${totalQuestions} é¡Œï¼Œä½ ç­”å°äº† ${correctAnswers} é¡Œï¼`;
  if (scoreChartInstance) scoreChartInstance.destroy();
  const ctx = document.getElementById('scoreChart').getContext('2d');
  scoreChartInstance = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['ç­”å°', 'ç­”éŒ¯'],
      datasets: [{
        data: [correctAnswers, totalQuestions - correctAnswers],
        backgroundColor: ['rgba(100, 181, 246, 0.8)', 'rgba(255, 183, 77, 0.8)'],
        borderWidth: 0,
        borderRadius: 5,
        hoverOffset: 4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      plugins: {
        legend: { position: 'bottom', labels: { padding: 20, font: { size: 14 } } }
      },
      cutout: '70%'
    }
  });
}

function restartQuiz() {
  selectedAnswers = {};
  correctAnswers = 0;
  for (let i = 1; i <= totalQuestions; i++) {
    document.querySelectorAll(`#question-${i} .form-check`).forEach(el => {
      el.classList.remove('correct', 'wrong');
      el.style.pointerEvents = 'auto';
      // éš±è—æ‰€æœ‰è§£é‡‹
      el.querySelectorAll('.option-explanation').forEach(exp => exp.style.display = 'none');
    });
    const hint = document.getElementById(`hint-${i}`);
    if (hint) hint.classList.remove('show');
    const nextBtn = document.getElementById(`next-btn-${i}`);
    if (nextBtn) nextBtn.classList.remove('show');
  }
  if (scoreChartInstance) {
    scoreChartInstance.destroy();
    scoreChartInstance = null;
  }
  document.getElementById('completion').style.display = 'none';
  document.querySelector('.quiz-progress-container').style.display = 'block';
  document.getElementById('question-1').style.display = 'block';
  updateProgress(1);
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// åˆå§‹åŒ–é€²åº¦æ¢
updateProgress(1);
</script>
{% endblock %}
